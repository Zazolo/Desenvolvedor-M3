"use strict";import ColorsCheckboxes from"./elements/ColorsCheckboxes.js";import PriceRangeCheckboxes from"./elements/PriceRangeCheckboxes.js";import SizesBoxes from"./elements/SizesBoxes.js";import ProductsView from"./elements/ProductsView.js";import showcase from"./ASP/showcase.js";import OrdenationCombobox from"./elements/OrdenationCombobox.js";import ShopCart from"./elements/ShopCart.js";var filters={colors:[],colors_available:[],price_range:[],price_range_available:[],size:[],size_available:[],orderBy:"recent",last_page_end:0,hasMorePages:!1},data=[],__first_init=!0;function createOrdenationCBBX(){OrdenationCombobox().create("select-ordernation-filter-container-id",e=>{filters.orderBy=e,show()})}function createColorCBXs(){ColorsCheckboxes().create("colors-filter-container-id",filters.colors_available,function(e){filters.last_page_end=0,filters.colors=e,show()})}function createSizeCBXs(){SizesBoxes().create("size-filter-container-id",filters.size_available,function(e){filters.last_page_end=0,filters.size=e,show()})}function createPriceCBXs(){PriceRangeCheckboxes().create("price-range-filter-container-id",[filters.price_range_available[0],filters.price_range_available[1]],data.length,function(e){filters.last_page_end=0,filters.price_range=e,show()})}function loadShopItens(){ProductsView().create("ShopCardItensContainer",data.data,filters.size,filters.hasMorePages,()=>{showMore()})}function showMore(){let e=[];showcase(filters.last_page_end,10,{colors_name:filters.colors,sizes:filters.size,price_range:filters.price_range,orderBy:filters.orderBy}).then(a=>{if(a.data&&data.data){for(let r=0;r<a.data.length;r++){let s=!1;for(let e=0;e<data.data.length;e++)a.data[r].id==data.data[e].id&&(console.log("FOUND!"),s=!s);s||e.push(a.data[r])}console.log("FINISHED!"),data.data=[...data.data,...e],filters.last_page_end=a.pagination.final_range,filters.hasMorePages=a.pagination.hasMorePages,loadShopItens()}else console.log("There's no more pages available!")})}function show(){showcase(filters.last_page_end,10,{colors_name:filters.colors,sizes:filters.size,price_range:filters.price_range,orderBy:filters.orderBy}).then(e=>{data=e,__first_init&&(__first_init=!1,filters.price_range_available=[e.extra.cheapest_price,e.extra.expensive_price],filters.colors_available=e.extra.unique_colors,filters.size_available=e.extra.unique_sizes,ShopCart().create("head-cart-icon-container"),createColorCBXs(),createSizeCBXs(),createOrdenationCBBX(),createPriceCBXs()),filters.hasMorePages=e.pagination.hasMorePages,filters.last_page_end=e.pagination.final_range,loadShopItens(),console.log(e)})}show();